# 基于mpvue框架的微信小程序集成发布

## 1. 背景

1. 随着业务并行化程度的加重，小程序也必须同时在多个测试环境中测试，如果还像最开始那样使用微信开发工具去打码，测试与后端人员对前端人员每起一个项目，都将依赖前端小程序开发人员去打码，其人效势必越来越差。
2. 任由前端开发者开分支去测试项目，是否记得去合并master代码，将完全依赖于前端开发者，一旦忘记，必然会造成测试过程中的不充分。
3. 由开发工具上传版本时，同样由于没有关联git合并操作，可能发版后，master代码中还是不包含本次上线的内容，造成后续开发者遗漏功能。
4. 由于版本管理上的不规范，一旦上线发生问题，没有tag用以回滚，在紧急情况下无法控制项目风险。

## 2. 集成发布的优点

1. 有了集成化发布系统，后端与测试开发者，需要某个环境的小程序二维码时，只要自己去jenkins点一下发布即可，不用再依赖于前端开发者。
2. 每次测试环境打码时，都将检查当前分支是否合并过master代码。在测试合并时，将给予警告（或者直接不让打包），避免测试版本缺失master稳定版本功能。
3. 每次上线上传版本时，将自己打tag，并将分支代码合并到master。省去人工合并的麻烦、避免了忘记合并的风险。
4. 因为每次上传代码都有tag，可以轻松回到上一个版本。

## 3. 搭建步骤

### 3.1 jenkins安装

### 3.2 插件安装

### 3.3 创建item

## 4. 使用步骤

## 5. 附 

官方文档
https://developers.weixin.qq.com/miniprogram/dev/devtools/cli.html#%E8%87%AA%E5%8A%A8%E9%A2%84%E8%A7%88

引用
https://testerhome.com/topics/14913




